{{ define "main" }}
<div class="container mx-auto px-4 py-8">
    <article class="max-w-4xl mx-auto bg-white rounded-lg shadow-sm overflow-hidden border border-gray-100">
        
        <!-- 1. Header Artikel (Judul & Meta) -->
        <header class="p-6 md:p-8 border-b border-gray-100">
            <!-- Breadcrumb -->
            <div class="text-xs text-gray-500 uppercase tracking-widest mb-4 flex items-center gap-2">
                <a href="/" class="hover:text-news-red transition">Home</a>
                <span>/</span>
                {{ range .Params.categories }}
                <a href="/categories/{{ . | urlize }}" class="font-bold text-news-red hover:underline">{{ . }}</a>
                {{ end }}
            </div>

            <h1 class="text-3xl md:text-5xl font-display font-black text-gray-900 leading-tight mb-4">
                {{ .Title }}
            </h1>

            <div class="flex items-center justify-between text-sm text-gray-500 mt-4">
                <div class="flex items-center gap-2">
                    <span class="font-bold text-gray-900">{{ .Params.author | default "Editorial Team" }}</span>
                    <span>â€¢</span>
                    <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
                        {{ .Date.Format "January 02, 2006" }}
                    </time>
                </div>
            </div>
        </header>

        <!-- 2. Featured Image (WAJIB ADA untuk AdSense) -->
        {{ if .Params.featured_image }}
        <div class="relative w-full aspect-video">
            <img 
                src="{{ .Params.featured_image }}" 
                alt="{{ .Params.featured_image_alt | default .Title }}"
                class="w-full h-full object-cover"
                loading="eager"
            >
        </div>
        {{ end }}

        <!-- 3. ISI KONTEN (INI YANG HILANG SEBELUMNYA) -->
        <!-- Class 'prose' dari Tailwind Typography plugin sangat penting agar format H2, P, List muncul rapi -->
        <div class="p-6 md:p-8">
            <div class="prose prose-lg prose-red max-w-none prose-img:rounded-xl prose-headings:font-display prose-a:text-news-red hover:prose-a:text-red-700">
                
                {{ .Content }}  <!-- <--- INI KODE KUNCI! TANPA INI, ARTIKEL TIDAK MUNCUL DI SOURCE CODE -->
            
            </div>
        </div>

        <!-- 4. Footer Artikel (Tags & Share) -->
        <footer class="px-6 pb-8 md:px-8">
            <div class="flex flex-wrap gap-2 mb-8">
                {{ range .Params.tags }}
                <a href="/tags/{{ . | urlize }}" class="bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs font-bold uppercase hover:bg-gray-200 transition">#{{ . }}</a>
                {{ end }}
            </div>
            
            <!-- Iklan Bawah Artikel -->
            <div class="border-t border-gray-100 pt-8">
                {{ partial "ads/billboard.html" . }}
            </div>
        </footer>

    </article>
</div>
{{ end }}
